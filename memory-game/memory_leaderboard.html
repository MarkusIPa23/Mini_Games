<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="../style.css">
<style>
h1 {
    position: relative;
}

button {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 8px 16px;
    background-color: #f44336;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}

button:hover {
    background-color: #d32f2f;
}

#leaderboard ul {
    padding-left: 20px;
    list-style: none;
    counter-reset: rank;
}

#leaderboard li {
    margin-bottom: 5px;
    counter-increment: rank;
    position: relative;
    padding-left: 30px;
}

#leaderboard li::before {
    content: counter(rank) ". ";
    position: absolute;
    left: 0;
    font-weight: bold;
    color: #4CAF50;
}
</style>
</head>
<body>

<h1>Memory Leaderboard</h1>
<button onclick="window.location.href='../index.html'">Back to Menu</button>
<div id="leaderboard"></div>

<script>
async function loadLeaderboards() {
    let html = "";
    const levels = ["easy", "medium", "hard"];
    for (const level of levels) {
        const response = await fetch(`../api/get_memory_scores.php?level=${level}`);
        const data = await response.json();
        html += `<h3>${level.charAt(0).toUpperCase() + level.slice(1)}</h3><ul>`;
        data.forEach(x => {
            html += `<li>${x.username}: ${x.time_seconds}s (${new Date(x.created_at).toLocaleString()})</li>`;
        });
        html += "</ul>";
    }
    document.getElementById("leaderboard").innerHTML = html;
}
loadLeaderboards();
</script>

</body>
</html>
